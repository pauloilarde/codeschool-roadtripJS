<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title></title>
   </head>
   <body>
      <script>
         var Tornado = function (category, affectedAreas, windGust) {

            this.category = category;
            this.affectedAreas = affectedAreas;
            this.windGust = windGust;
         }

         Tornado.prototype.valueOf = function () {
            var sum = 0;
            for(var i = 0; i < this.affectedAreas.length; i++){
               sum += this.affectedAreas[i][1];
            }
            return sum;
         };

         Tornado.prototype.toString = function () {

            var list = "";
            for(var i = 0; i < this.affectedAreas.length; i++){
               if(i < this.affectedAreas.length - 1){
                  list = list + this.affectedAreas[i][0] + ", ";
               }else {
                  list = list + "and " + this.affectedAreas[i][0];
               }
            }
            return "This tornado has been classified as an " + this.category +
                   ", with wind gusts up to " + this.windGust + "mph. Affected areas are: " +
                   list + ", potential affecting people of " + this.valueOf() + ".";
         };

         var cities = [["Kansas city", 464310], ["Topeka", 127939], ["Lenexa", 49398]];
         cities.push(["Olashe", 130045]);

         var twister = new Tornado("F5", cities, 220);

         Object.prototype.findOwnerOfProperty = function (propName) {
            var currentObj = this;
            while (currentObj !== null) {
               if(currentObj.hasOwnProperty(propName)){
                  return currentObj;
               } else{
                  currentObj = currentObj.__proto__;
               }
            }
            return "No property found";
         };

         console.log(twister.findOwnerOfProperty("valueOf"));
         console.log(twister.findOwnerOfProperty("goToOz"));

         console.log("----------------------");

         console.log(twister.constructor);
         //console.log(twister.constructor.prototype);
         // a linha acima faz a mesma coisa que a linha: console.log(twister.__proto__);
         console.log("----------------------");
         console.log(twister.__proto__);

      </script>
   </body>
</html>
